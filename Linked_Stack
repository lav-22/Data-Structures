class Node:
    def __init__(self, next_node = None):
        self.value = value
        self.next = next_node
        
class LinkedList:
    def __init__(self):
        self.head = None
        
    def prepend(self, data):
        new_node = Node(data, self.head)
        self.head = new_node
        
    def postpend(self, data):
        new_node = Node(data)
        if self.head is None:
            self.head = new_node
        else:
            cur_node = self.head
            while cur_node:
                cur_node = cur_node.next
            cur_node = new_node
            
    def insert_ordered(self, data):
        new_node = Node(data)
        if self.head is None:
            self.head = new_node
        else:
            if self.head.data > data:
                new_node.next = self.head
                self.head = new_node
            else:
                cur_node = self.head
                while cur_node.data < data and cur_node:
                    cur_node = cur_node.next
                    
                new_node.next = cur_node
                cur_node = new_node
                
    def delete_from_front(self):
        if self.head:
            self.head = self.head.next
        else:
            print("Linked list is empty")
            
    def delete_from_back(self):
        if self.head is None:
            return "Linked List is Empty"
        elif self.head.next == None:
            self.head = None
        else:
            second_last_node = self.head
            while second_last_node.next.next:
                second_last_node = second_last_node.next
                
            second_last_node.next = None
            
    def delete_ordered(self, value):
        if self.head is None:
            print("Empty Linked List")
            return 
        if self.head.data == value:
            self.head = self.head.next
            
        cur_node = self.head
        while cur_node.next and cur_node.next.data != value:
            cur_node = cur_node.next
            
        if cur_node.next is None:
            print("Value not found in list")
            
        cur_node.next = cur_node.next.next
        
    def search(self, value):
        cur_node = self.head
        while cur_node and cur_node.data <= value:
            if cur_node.data == value:
                return True
            cur_node = cur_node.next
            
        return False
    
    def display(self):
        cur_node = self.head
        while cur_node:
            print(cur_node.data, end=" -> ")
            cur_node = cur_node.next
        print("None")
        
class Stack:
    def __init__(self):
        self.stack = LinkedList()
        
    def push(self, value):
        self.prepend(value)
        
    def pop(self):
        if self.stack.head is None:
            return "Stack is Empty"
        value = self.stack.head.data
        self.stack.head= self.stack.head.next
        return value
    
    def peek(self):
        return self.stack.head.data
    
    def display(self):
        self.stack.display()
        
    def is_empty(self):
        return self.stack.head is None
    
    def size(self):
        size = 0
        cur_node = self.stack.head
        while cur_node:
            size += 1
            cur_node = cur_node.next
        return size

class LinkedStack:
    def __init__(self):
        self.stack = LinkedList()
        
    def push(self, data):
        self.stack.prepend(data)
        
    def pop(self):
        if self.stack.head is None:
            return "stack is Empty"
        else:
            value = self.stack.head.data
            self.stack.head = self.stack.head.next
            return value
        
    def peek(self):
        return self.stack.head.value
    
    def display(self):
        self.stack.display()
        
    def is_empty(self):
        return self.stack.head is None
    
    def size(self):
        if self.stack.head is None:
            return 
        else:
            size = 0
            cur_node = self.stack.head
            while cur_node:
                size += 1
                cur_node = cur_node.next
            return size
    
